<!DOCTYPE html>
<html lang="en" data-footer="true">

<head>
    <title>Advanced Courses</title>
    {% include('incs/metas.html') %}
    <link rel="stylesheet" href="{{url_for('static', filename='setting/font/CS-Interface/style.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename='setting/css/vendor/bootstrap.min.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename='setting/css/vendor/OverlayScrollbars.min.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename='setting/css/vendor/select2.min.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename='setting/css/vendor/select2-bootstrap4.min.css')}}">

    <link rel="stylesheet" href="{{url_for('static', filename='css/vendor/quill.bubble.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename='css/vendor/quill.snow.css')}}">

    <link rel="stylesheet" href="{{url_for('static', filename='css/vendor/tagify.css')}}">

    <link rel="stylesheet" href="{{url_for('static', filename='setting/css/styles.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename='setting/css/main.css')}}">
    <script src="{{url_for('static', filename='setting/js/base/loader.js')}}"></script>
</head>

<body>
    <div id="root">

        {% include 'incs/nav.html' %}

        <main>
            <div class="container">
                <div class="col">
                    <section class="scroll-section" id="validation">
                        <h2 class="small-title">Advanced Course Materials</h2>
                        <div class="card wizard" id="wizardValidation" style="height: 620px;">

                            <div class="card-body sh-35">

                                <div class="tab-content">

                                    <div class="tab-pane fade active show" id="validationSecond" role="tabpanel">
                                        <div class="text-center mt-5" style="height: 500px;">
                                            {% include 'incs/alerts.html' %}
                                            <form class="tooltip-end-bottom" enctype="multipart/form-data" novalidate
                                                method="post" id="materi">
                                                {{ form.csrf_token }}
                                                <label class="btn btn-icon btn-icon-start btn-primary">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                                        viewBox="0 0 20 20" fill="none" stroke="currentColor"
                                                        stroke-width="1.5" stroke-linecap="round"
                                                        stroke-linejoin="round"
                                                        class="acorn-icons acorn-icons-plus undefined">
                                                        <path d="M10 17 10 3M3 10 17 10"></path>
                                                    </svg>
                                                    <span>Add Poster Image</span>
                                                    {{ form.poster(class="inputs", id="poster_input", required=required,
                                                    hidden=hidden, onchange="uploadFile(this, '#poster')" ) }}
                                                    {% if form.poster.errors %}
                                                    {% for error in form.poster.errors %}<div class="error">{{ error }}
                                                        !</div> {% endfor %}
                                                    {% endif %}
                                                </label>
                                                <div class="col-sm-12 mb-3" id="poster"></div>

                                                <label class="btn btn-icon btn-icon-start btn-primary">
                                                    
                                                    <i data-acorn-icon="plus" data-icon-size="20" class="icon"></i>
                                                    <span>upload Tutorial Video</span>
                                                    {{ form.video(class="inputs", id="videoUpload", required=required,
                                                    hidden=hidden, onchange="uploadFile(this, '#video')" ) }}
                                                    {% if form.video.errors %}
                                                    {% for error in form.video.errors %}<div class="error">{{ error }}
                                                        !</div> {% endfor %}
                                                    {% endif %}

                                                </label>
                                                <div class="col-sm-12 m-3">
                                                    <video width="320" height="240" id="video" controls autoplay> Your
                                                        browser does not support the video tag.</video>
                                                </div>
                                                <style>
                                                    video {
                                                        /*position: fixed;*/
                                                        display: none;
                                                    }
                                                </style>
                                                <label class="btn btn-icon btn-icon-start btn-primary">
                                                   
                                                    <i data-acorn-icon="plus" data-icon-size="20" class="icon"></i>
                                                    <span>Materials(pdfs/illustrations)</span>
                                                    {{ form.material(class="inputs", id='materi', required=required, hidden=hidden,
                                                    onchange="uploadFile(this, '#material')" ) }}
                                                    {% if form.material.errors %}
                                                    {% for error in form.material.errors %}<div class="error">{{ error }}
                                                        !</div> {% endfor %}
                                                    {% endif %}
                                                </label>
                                                <div class="col-sm-12 mb-3" id="material"></div>


                                                <div class="card-footer text-center border-0 mt-3 pt-1"
                                                    style="margin-top: 10px;">
                                                    <a href="{{url_for('editor.course')}}" class="btn btn-icon btn-icon-start btn-outline-primary btn-prev"
                                                        type="button">
                                                        <i data-acorn-icon="chevron-left"></i>
                                                        <span>Back</span>
                                            </a>
                                                    <button type="submit" id="submit"
                                                        class="btn btn-icon btn-icon-end btn-outline-primary btn-next">

                                                        <span>Next</span>
                                                        <i data-acorn-icon="chevron-right"></i>
                                                    </button>
                                                </div>

                                            </form>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
    </div>
    </div>
    </main>

    {% include('incs/footer.html') %}
    </div>
    {% include('incs/settings.html') %}
    {% include('incs/search.html') %}

    <script src="{{url_for('static', filename='setting/js/vendor/jquery-3.5.1.min.js')}}"></script>
    <script src="{{url_for('static', filename='setting/js/vendor/bootstrap.bundle.min.js')}}"></script>
    <script src="{{url_for('static', filename='setting/js/vendor/OverlayScrollbars.min.js')}}"></script>
    <script src="{{url_for('static', filename='setting/js/vendor/autoComplete.min.js')}}"></script>
    <script src="{{url_for('static', filename='setting/js/vendor/clamp.min.js')}}"></script>
    <script src="{{url_for('static', filename='setting/icon/acorn-icons.js')}}"></script>
    <script src="{{url_for('static', filename='setting/icon/acorn-icons-interface.js')}}"></script>


    <script src="{{url_for('static', filename='js/cs/scrollspy.js')}}"></script>
    <script src="{{url_for('static', filename='js/vendor/quill.min.js')}}"></script>
    <script src="{{url_for('static', filename='js/vendor/quill.active.js')}}"></script>

    <script src="{{url_for('static', filename='js/vendor/tagify.min.js')}}"></script>

    <script src="{{url_for('static', filename='setting/icon/acorn-icons-commerce.js')}}"></script>
    <script src="{{url_for('static', filename='setting/js/vendor/select2.full.min.js')}}"></script>
    <script src="{{url_for('static', filename='setting/js/vendor/singleimageupload.js')}}"></script>
    <script src="{{url_for('static', filename='setting/js/base/helpers.js')}}"></script>
    <script src="{{url_for('static', filename='setting/js/base/globals.js')}}"></script>
    <script src="{{url_for('static', filename='setting/js/base/nav.js')}}"></script>
    <script src="{{url_for('static', filename='setting/js/base/search.js')}}"></script>
    <script src="{{url_for('static', filename='setting/js/base/settings.js')}}"></script>
    <script src="{{url_for('static', filename='setting/js/pages/account.settings.js')}}"></script>

    <!---->
    <script src="{{url_for('static', filename='js/forms/controls.editor.js')}}"></script>
    <script src="{{url_for('static', filename='js/forms/controls.tag.js')}}"></script>

    <script src="{{url_for('static', filename='setting/js/common.js')}}"></script>
    <script src="{{url_for('static', filename='js/scripts.js')}}"></script>
    <!--use-general-script-here-for-consistency-in-UI-->

    <script>
        uploadFile = (input = '#csrf_token', ouput) => {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = (e) => {
                    var src = e.target.result;
                    $(ouput).html('<img src="' + src + '"/>');
                    $(ouput).find('img').css({
                        'width': '300px', 'height': '80px',
                        'border-radius': '8px', 'margin-top': '4px', 'margin-bottom': '4px'
                    });
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        document.getElementById("videoUpload").onchange = function (event) {
            let file = event.target.files[0];
            let blobURL = URL.createObjectURL(file);
            //alert(blobURL);
            document.querySelector("video").style.display = 'block';
            //document.querySelector("video").addClass('plyr__poster');
            document.querySelector("video").src = blobURL;
            $('form').find('video').css({ 'width': '300px', 'height': '80px', 'border-radius': '8px', 'margin-top': '4px', 'margin-bottom': '4px' });
            $('form').find('video').css({ 'margin': 0, 'padding': 0 });
        }
        $('[pseudo="-webkit-media-controls"]').css({ 'position': 'fixed', 'width': '300px', 'height': '80px', 'border-radius': '8px', 'margin-top': '4px', 'margin-bottom': '4px' });
    </script>
</body>

</html>